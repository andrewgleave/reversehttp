<html>
  <head>
    <title>The Tiniest Reverse HTTP Demo</title>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/mootools/1.2.3/mootools-yui-compressed.js"></script>
    <script type="text/javascript" charset="utf-8" src="mootools-extras.js"></script>
    <script type="text/javascript" src="oom.Httpd.js"></script>
  </head>
  <body>
    <h1>The Tiniest Reverse HTTP Demo</h1>
    <a id="serviceLocation" style="display:block" target="_blank"></a>
    <input type="text" id="responsetext" value="Hello from the tiniest demo" size="80" />
    <script type="text/javascript">
         new oom.Server({
             onLocationChanged: function(location) {
                 $('serviceLocation').set({'text': location, 'href': location});
             },
             callback: function(request) {
                 request.respond(new oom.Response({status: 200,
                                message: 'OK',
                                body: $('responsetext').get('value'),
                                headers: {'Content-type': 'text/plain; charset=utf-8'}}));
         }}).start();
    </script>
  </body>
</html>
